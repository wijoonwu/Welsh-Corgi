# OSI 7 계층
> OSI 7 계층이란 네트워크에서 통신이 일어나는 과정을 7단계로 나눈 것을 말한다.

## 그렇다면, OSI 7 계층을 나눈이유는 무엇일까?

통신이 일어나는 과정을 단계별로 파악할 수 있고, 특정한 곳에 이상이 생기면 이상이 생긴 단계만 수정할 수 있다.

> 자동차로 예를 들어보자. <br>
> 타이어가 펑크나면, 타이어만 교체하면 된다. 엔진이 고장나면 엔진만 교체하는 것처럼. <br>
> 왜냐하면, 자동차회사에서는 완성된 자동차를 판매하지만 사용되는 여러 부품들은 만드는 공정이나 회사가 따로있다. <br>
> 결과적으로 자동차 부품하나 고장난다고 처음부터 자동차를 다시 만들 필요가 없다.

<br>

## OSI 7 계층 구조
<img src="/static/img/osi7.jpg">
https://faq.hostway.co.kr/Linux_ETC/1434

1계층부터 7계층으로 이루어진 계층으로 물리, 데이터, 네트워크, 전송, 세션, 응용 계층으로 나누어져있다.

`정처기 준비할 때 물데네전세표응으로 외움(근데 안나옴)`

### 상하구조
OSI 7계층의 특징은 상하구조를 가진다고 한다.

상위계층의 프로토콜이 정상적으로 동작하기 위해서는 하위계층들이 모두 정상적으로 동작해야한다.

따라서 문제가 생겼을 때 상하구조가 아주 중요하다는 것을 알 수 있다.
네트워크계층이 정상작동하는지 확인하기 위해 PING을 날렸고, 만약 정상동작 한다면 네트워크 계층의 하위계층 역시 정상동작한다는 의미를 가진다.

<br>

### 물리 계층 (Physical Layer, 1계층)
> 리피터, 케이블, 허브 등

OSI 모델 맨 밑에 위치, 네트워크 데이터가 전송되는 물리적인 매체이다.
데이터는 0과 1의 비트열로 ON, OFF의 전기적 신호상태로 이루어져 있다.
데이터를 전송하는 역할만 진행한다.

<br>

### 데이터 링크 (DataLink Layer, 2계층)
> 브릿지, 스위치, 이더넷 등

물리적인 네트워크를 통해 데이터를 전송하는 수단을 제공한다. 1홉통신을 담당. 홉(hop)이란 컴퓨터 네트워크에서 노드에서 다음 노드로 가는 경로를 뜻함.
1홉통신이면 한 라우터에서 다음 라우터까지의 경로를 말한다.

주목적은 물리적인 장치를 식별하는 데 사용할 수 있는 주소 지정 체계를 제공한다.
네트워크 위의 개체들 간 데이터를 전달하고 물리 계층에서 발생할 수 있는 오류를 찾아내거나 수정하는 데 필요한 기능적, 절차적 수단을 제공한다.
따라서 통신에서의 오류도 찾아주고 재전송도 하는 기능을 가지고 있고, Mac주소를 가지고 통신한다.

<br>

### 네트워크 (Network Layer, 3계층)
> 라우터, IP

데이터를 목적지까지 가장 안전하고 빠르게 전달하는 기능(라우팅)담당.
라우터를 통해서 이동할 경로를 선택하여 IP 주소를 지정, 해당경로에 따라 패킷을 전달한다.
실제 네트워크 간에 데이터 라우팅, 흐름제어, 오류제어, 세그먼테이션 등을 수행한다.

`라우팅이란 어떤 네트워크 안에서 통신 데이터를 짜여진 알고리즘에 의해 최대한 빠르게 보낼 최적의 경로를 선택하는 과정을 말한다.`

<br>

### 전송 계층 (Transport Layer, 4계층)
> TCP, UDP

주목적은 하위 계층에 신뢰할 수 있는 데이터 전송 서비스를 제공하는 것이다.
TCP와 UDP 프로토콜을 통해 통신을 활성화한다. 포트를 열어두고, 응용프로그램들이 전송을 할 수 있도록 제공해준다.

<br>

### 세션 계층 (Session Layer, 5계층)
> API, Socket

데이터가 통신하기 위한 논리적 연결을 담당한다.

모든 통신 장치 간에 연결을 설정하고 관리 및 종료하고 또한 연결이 전이중(Full duplex / 양방향)인지 반이중(half duplex / 단방향)인지 여부를 확인하고 체크 포인팅과 유휴, 재시작 과정 등을 수행하며 호스트가 갑자기 중지되지 않고 정상적으로 호스트를 연결하는 데 책임이 있다. 

즉 이 계층에서는 TCP/IP 세션을 만들고 없애고 통신하는 사용자들을 동기화하고 오류 복구 명령들을 일괄적으로 다루며 통신을 하기 위한 세션을 확립, 유지, 중단하는 작업을 수행한다.


<br>

### 표현 계층 (Presentation Layer, 6계층)
> JPEG, MPEG 등

응용 계층으로부터 전달받은 데이터를 읽을 수 있는 형식으로 변환하는데 표현 계층은 응용 계층의 부담을 덜어주는 역할이 되기도 한다.

응용 계층으로부터 전송받거나 응용 계층으로 전달해야 할 데이터의 인코딩과 디코딩이 이 계층에서 이루어진다.
표현 계층은 데이터를 안전하게 사용하기 위해서 암호화와 복호화를 하는데 이 작업도 표현 계층에서 이루어진다.

<br>

### 응용 계층 (Application Layer, 7계층)
> HTTP, FTP, DNS 등

최상단에서 응용프로세스와 직접 관계하여 일반적인 응용 서비스를 수행하는 계층이며, 사용자가 네트워크 자원에 접근하는 방법을 제공한다.

최종적으로 사용자가 볼 수 있는 유일한 계층으로 모든 네트워크 활동의 기반이 되는 인터페이스를 제공한다.


<br>


## 👀 참고
http://wiki.hash.kr/index.php/OSI_7_%EA%B3%84%EC%B8%B5

https://github.com/gyoogle/tech-interview-for-developer/blob/master/Computer%20Science/Network/OSI%207%20%EA%B3%84%EC%B8%B5.md
